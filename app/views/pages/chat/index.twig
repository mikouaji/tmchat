{% from helpers.default import loading, topics, messages, messagesLoading, socketConst, files, filesModal %}
{{ loading() }}
<div class="row justify-content-between pt-3 pb-3">
	<div class="col-12 col-md-3 col-lg-2">
		<a href="/chat" class="text-decoration-none">
			<img src="/assets/img/logo.svg" />
			chat app
		</a>
	</div>
	<div class="col-12 col-md-9 col-lg-10 text-right">
		logged in as <span class="text-warning">{{ user.getLogin }}</span>
		<button class="btn btn-info btn-sm files-toggle">🗁 files</button>
		<a href="/settings" class="btn btn-warning text-decoration-none text-dark btn-sm">settings</a>
		<a href="/logout" class="btn btn-danger btn-sm text-white text-decoration-none">logout</a>
	</div>
</div>
<div class="row flex-fill">
	<div class="col-12 col-md-3 col-xl-2 text-left topics-col">
		{{ topics() }}
	</div>
	<div class="col-12 col-md col-xl d-flex flex-column p-0">
		{{ messagesLoading() }}
		{{ messages() }}
		<div class="input-group mb-4 message-bar">
			<div class="input-group-prepend">
				<button class="btn btn-info text-dark" type="button" data-toggle="modal" data-target="#filesModal">upload 📤</button>
			</div>
			<textarea class="form-control bg-light message-value border-0"></textarea>
			<div class="input-group-append">
				<button class="btn btn-warning text-dark message-send" type="button">send ↲</button>
			</div>
		</div>
	</div>
	<div class="col-12 col-md-3 col-xl-2 files-col d-none p-0">
		{{ files() }}
	</div>
</div>
{{ socketConst(socketAddr) }}
{{ filesModal() }}